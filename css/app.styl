@import '../node_modules/nib'

global-reset()

$backgroundColor = #0e0a20
$baseUnit = 3vh
$smallImage = 87vh
$mobileWidth = "(max-width: 480px) and (min-width: 320px)"
$leading = 26px
$defaultType = 20px
$kerning = 0.01em
$abbreviation = $defaultType - 1

font-url(file)
	return '../fonts/' + file

webfont(family, file, hack-chrome-windows = false, weight = 'normal')
	@font-face
		font-family family
		src url(font-url(file + '.eot'))
		src url(font-url(file + '.eot?#iefix')) format('embedded-opentype'),
			url(font-url(file + '.woff')) format('woff'), 
			url(font-url(file + '.ttf')) format('truetype'), 
			url(font-url(file + '.svg#'+ family)) format('svg')
		font-weight weight
		font-style normal
	if hack-chrome-windows
		@media screen and (-webkit-min-device-pixel-ratio:0)
			@font-face
				font-family family
				src url(font-url(file + '.svg#'+ family)) format('svg')

webfont('Mincho Sans', 'ms-sans-14', true, 'normal')

html, body
	width: auto
	height: 100%
	background: $backgroundColor
	font-smoothing: antialiased
	position: relative
	box-sizing: border-box

	a
		color: #fff
		text-decoration: none
		border-bottom: 1px solid #fff
		&:hover
			border-bottom: none

.alert
	display:none

body
	opacity: 1
	color: #fff
	font-family: 'Mincho Sans', 'Courier New', courier, monospace
	letter-spacing: $kerning
	font-size: $defaultType

	@media $mobileWidth
		font-size: 16px

.masthead
	position: fixed
	width: 50%
	top: 50%
	left: 50%
	z-index: 4
	margin-left: -25%
	margin-top: -18%
	transition: 0.2s ease
	img
		max-width: 100%
		transition: 0.2s ease
		&:hover
			-webkit-filter: blur(30px)
			filter: url('../img/blur4.svg#blur')
			opacity: 0.9
			cursor: pointer

	@media (max-width: 480px) and (min-width: 320px) and (orientation: portrait)
		position: absolute;
		width: 50%
		margin: 0 auto;
		top: 50%
		left: 50%
		transform: translate(-50%,-50%);
		z-index: 99
		img
			max-width: 100%

li
	list-style: none

.content
	opacity: 0
	transition: all 500ms cubic-bezier(0.000, 0.885, 0.355, 1.000);
	&.loaded
		opacity: 1 !important
	&.content-blur
		transform: translateY(-90%)
		animation: contentglow 3.5s linear infinite
		opacity: 1 !important

@keyframes contentglow {
	0% {
		-webkit-filter: blur(10px) brightness(100%);
	}
	50% {
		-webkit-filter: blur(20px) brightness(300%);
	}

	100% {
		-webkit-filter: blur(10px) brightness(100%);
	}
}

.svg-filter
	height: 0
	img
		height: 0

.wrapper
	width: 40000px
	z-index: 3
	height: 100%
	position: relative
	box-sizing: border-box
	transition: 0.4s ease
	overflow: auto;

@media (max-width: 480px) and (min-width: 320px) and (orientation: portrait)
	.piece
		width: 100%
		margin: 0
		padding: 0
// 	body
// 		overflow: hidden
// 	.alert
// 		display: inline-block
// 		padding: 10px
// 		box-sizing: border-box
// 		position: absolute
// 		line-height: 18px
// 		top: 70%
// 		left: 50%
// 		transform: translate(-50%,-50%)
// 	.wrapper
// 		opacity: 0
// 		overflow: hidden
// 	.masthead
// 		width: 100%
// 		top: 20%
// 	abbr
// 		font-size: 10px

.info
	width: 100%
	height: 0
	position: fixed
	padding-top: 5%
	bottom:0
	opacity: 0
	z-index: 100
	transition: all 500ms cubic-bezier(0.000, 0.885, 0.355, 1.000);
	background: $backgroundColor

	@media only screen and (min-device-width : 375px) and (max-device-width : 736px) and (orientation : landscape)
		font-size: 10px
		position: fixed
		line-height: 12px !important

	&.info-loaded
		height: 90%
		opacity: 1
		@media $mobileWidth
			position: absolute
			height: 95%

	.info-content
		width: 70%
		margin: 0 auto
		line-height: $leading
		@media $mobileWidth
			line-height: 22px
			width: 90%
		@media only screen and (min-device-width : 375px) and (max-device-width : 736px) and (orientation : landscape)
			line-height: 12px
	.info-column
		width: 47.5%
		float: left
		@media $mobileWidth
			clear: both;
			width: 100%
	.left-col
		margin-right: 5%
	h3
		text-indent: 1em
	p
		margin-bottom: 20px

	.hide-info
		position: absolute
		top: 5%
		right: 20px
		font-size: 52px
		cursor: pointer

		@media $mobileWidth
			top: 1%s

	abbr
		font-size: $abbreviation
		letter-spacing: 2px

@media only screen and (min-device-width : 375px) and (max-device-width : 736px) and (orientation : landscape)
	.contact, .credits
		display: none
	abbr
		letter-spacing: 0px

.videos
	z-index: 2
	position: absolute
	padding: 290px
	// opacity: 0

	video
		margin-right: 1000px
		box-shadow: 0 20px 20px 0 rgba(0,0,0,0.1);

	ul
		float: left
		margin-right: 300px
		li
			display: inline
			float: left

.video-piece
	float: left

video
	transition: 0.2s ease-in
	z-index: 99
	&:hover
		opacity: 0

	@media $mobileWidth
		display: none

.images
	z-index: 1
	position: relative
	box-sizing: border-box
.piece
	float: left
	display: inline-block
	max-height: 100vh;
	&:hover
		-webkit-filter: brightness(110%)


	img
		// max-height: 100vh;
		width: auto


.test_vid_float
	width: 200px
	z-index: 99
	background: #000
	position: fixed
	top: 0
	right: 0
	opacity: 0
	video
		width: 200px

.sticky
	position: fixed
	top: 50%
	left: 50%
	transform: translate(-50%,-50%)
	-webkit-filter: blur(20px) contrast(200%);
	opacity: 0.5

.big-video
	position: fixed
	top: 50%
	z-index: 99
	left: 50%
	transform: translate(-50%,-50%)
	transition: 0.2 ease-in
	&:hover
		opacity: 0.1
		-webkit-filter: blur(20px) contrast(800%);
	video
		width: 300px
.big-wavy
	opacity: 0.25
	-webkit-filter: blur(20px) contrast(800%);
	filter: url('../img/blur5.svg#blur')

.logo-wavy
	-webkit-filter: blur(30px)
	filter: url('../img/blur4.svg#blur')
	opacity: 0.9

.pdf-link
	animation: glow 1.5s cubic-bezier(0.785, 0.135, 0.150, 0.860) infinite;

@keyframes glow
	0%
		opacity: 1
	100%
		opacity: 0.2


.mobile-fallback
	clear: both !important
	width: 100vw!important
	height: auto !important
	margin: 0 !important


// Layout
#video-1
	position: fixed
	top: 0
	width: 20%
	left: 0
	video
		width: 20% !important
		height: auto !important

#video-2
	position: fixed
	bottom: 15%
	width: 15%
	left: 0
	video
		width: 200px

#video-3
	position: fixed
	top: 20%
	right: 20px
	width: 25%
#video-4
	position: fixed
	top: 5%
	width: 15%
	right: 0

#piece-1
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-left: $baseUnit
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0

#piece-3
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-left: $baseUnit
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
#piece-4a
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
#piece-5
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit * 3
	@media $mobileWidth
		margin: 0
#piece-6
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit * 4
	margin-left: $baseUnit
	@media $mobileWidth
		margin: 0
#piece-7
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-left: $baseUnit
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit
	@media $mobileWidth
		margin: 0
#piece-7a
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
#piece-9
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
#piece-10
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-left: $baseUnit
	margin-bottom: $baseUnit * 3
	@media $mobileWidth
		margin: 0
#piece-11
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
#piece-12
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-left: $baseUnit * 4
	margin-bottom: $baseUnit * 3
	margin-right: $baseUnit
	@media $mobileWidth
		margin: 0
#piece-13
	margin-right: $baseUnit * 5
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit
	@media $mobileWidth
		margin: 0

#piece-14
	margin-right: $baseUnit
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit
	@media $mobileWidth
		margin: 0

#piece-15
	margin-right: $baseUnit * 5
	max-height: $smallImage
	margin-top: $baseUnit * 2
	margin-bottom: $baseUnit
	@media $mobileWidth
		margin: 0
#piece-16
	margin-right: $baseUnit * 4
	@media $mobileWidth
		margin: 0
